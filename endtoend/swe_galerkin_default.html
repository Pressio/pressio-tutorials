<!doctype html>
<html class="no-js" lang="en">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />
<link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" /><link rel="next" title="2D SWE: hyper-reduced Galerkin (example 1)" href="swe_galerkin_hypred_1.html" /><link rel="prev" title="Start reading here" href="readthisfirst.html" />

    <meta name="generator" content="sphinx-5.0.1, furo 2022.06.04.1"/>
        <title>2D SWE: default Galerkin - pressio-tutorials 0.17.0</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?digest=40978830699223671f4072448e654b5958f38b89" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?digest=30d1aed668e5c3a91c3e3bf6a60b675221979f0e" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #272822;
  --color-code-foreground: #f8f8f2;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #272822;
  --color-code-foreground: #f8f8f2;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">pressio-tutorials
0.17.0</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../index.html">
  
  
  <span class="sidebar-brand-text">pressio-tutorials
0.17.0</span>
  
</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder=Search name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul>
<li class="toctree-l1"><a class="reference internal" href="../build.html">Build instructions</a></li>
<li class="toctree-l1"><a class="reference external" href="https://pressioteam.slack.com">Join our Slack</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/Pressio/pressio-tutorials">GitHub Repo</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/Pressio/pressio-tutorials/issues">Open an issue/feature req.</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">License</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">1. End-to-end ROMs using pressio-demoapps</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="readthisfirst.html">Start reading here</a></li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">2D SWE: default Galerkin</a></li>
<li class="toctree-l1"><a class="reference internal" href="swe_galerkin_hypred_1.html">2D SWE: hyper-reduced Galerkin (example 1)</a></li>
<li class="toctree-l1"><a class="reference internal" href="swe_lspg_default.html">2D SWE: default LSPG</a></li>
<li class="toctree-l1"><a class="reference internal" href="swe_lspg_hypred_1.html">2D SWE: hyper-reduced LSPG (example 1)</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="d-swe-default-galerkin">
<h1>2D SWE: default Galerkin<a class="headerlink" href="#d-swe-default-galerkin" title="Permalink to this heading">#</a></h1>
<ul class="simple">
<li><p>ROM technique: default Galerkin</p></li>
<li><p>problem: <a class="reference external" href="https://pressio.github.io/pressio-demoapps/swe_2d.html">2D shallow water equations (SWE)</a></p></li>
</ul>
<section id="prerequisites">
<h2>Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this heading">#</a></h2>
<ul>
<li><p>A valid build of the tutorials, see <a class="reference external" href="../build.html">here</a></p></li>
<li><p>The following env variables MUST be set:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">export</span><span class="w"> </span><span class="nv">REPOSRC</span><span class="o">=</span>&lt;full-path-to-the-pressio-tutorials-source-repo&gt;/end-to-end-roms
<span class="nb">export</span><span class="w"> </span><span class="nv">BUILDDIR</span><span class="o">=</span>&lt;full-path-to-where-you-built-the-tutorials&gt;
</pre></div>
</div>
</li>
</ul>
<div class="important admonition">
<p class="admonition-title">To run the demo scripts below, you MUST be inside the correct directory:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span><span class="w"> </span><span class="nv">$BUILDDIR</span>/end-to-end-roms/2d_swe_galerkin_default
</pre></div>
</div>
</div>
</section>
<section id="workflow-file">
<h2>Workflow File<a class="headerlink" href="#workflow-file" title="Permalink to this heading">#</a></h2>
<p>The <a class="reference external" href="../../../end-to-end-roms/2d_swe_galerkin_default/wf.yaml">workflow file</a>
for this demo is shown below for exposition purposes, but it is automatically
copied to the build directory, so you don’t need to do anything:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="nt">problem</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2d_swe</span>
<span class="linenos"> 2</span>
<span class="linenos"> 3</span><span class="nt">parameterSpace</span><span class="p">:</span>
<span class="linenos"> 4</span><span class="w">  </span><span class="nt">names</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&#39;coriolis&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;pulsemag&#39;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&#39;gravity&#39;</span><span class="p p-Indicator">]</span>
<span class="linenos"> 5</span><span class="w">  </span><span class="nt">trainPoints</span><span class="p">:</span>
<span class="linenos"> 6</span><span class="w">    </span><span class="nt">0</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">-1.0</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">0.125</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">9.8</span><span class="p p-Indicator">]</span>
<span class="linenos"> 7</span><span class="w">    </span><span class="nt">1</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="w"> </span><span class="nv">0.0</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">0.125</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">9.8</span><span class="p p-Indicator">]</span>
<span class="linenos"> 8</span><span class="w">  </span><span class="nt">testPoints</span><span class="p">:</span>
<span class="linenos"> 9</span><span class="w">    </span><span class="nt">0</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">-0.5</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">0.125</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">9.8</span><span class="p p-Indicator">]</span>
<span class="linenos">10</span>
<span class="linenos">11</span><span class="nt">fom</span><span class="p">:</span>
<span class="linenos">12</span><span class="w">  </span><span class="nt">meshSize</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">65</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">65</span><span class="p p-Indicator">]</span>
<span class="linenos">13</span><span class="w">  </span><span class="nt">inviscidFluxReconstruction</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Weno3&quot;</span>
<span class="linenos">14</span><span class="w">  </span><span class="nt">odeScheme</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;RK4&quot;</span>
<span class="linenos">15</span><span class="w">  </span><span class="nt">timeStepSize</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.005</span>
<span class="linenos">16</span><span class="w">  </span><span class="nt">train</span><span class="p">:</span>
<span class="linenos">17</span><span class="w">    </span><span class="nt">finalTime</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">5.0</span>
<span class="linenos">18</span><span class="w">    </span><span class="nt">stateSamplingFreq</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span>
<span class="linenos">19</span><span class="w">    </span><span class="nt">rhsSamplingFreq</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">5</span>
<span class="linenos">20</span><span class="w">  </span><span class="nt">test</span><span class="p">:</span>
<span class="linenos">21</span><span class="w">    </span><span class="nt">finalTime</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">5.0</span>
<span class="linenos">22</span><span class="w">    </span><span class="nt">stateSamplingFreq</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span>
<span class="linenos">23</span><span class="w">    </span><span class="nt">rhsSamplingFreq</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">100</span>
<span class="linenos">24</span>
<span class="linenos">25</span><span class="nt">offlineRom</span><span class="p">:</span>
<span class="linenos">26</span><span class="w">  </span><span class="nt">pod</span><span class="p">:</span>
<span class="linenos">27</span><span class="w">    </span><span class="nt">stateData</span><span class="p">:</span>
<span class="linenos">28</span><span class="w">      </span><span class="nt">useTrainingRuns</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">all</span>
<span class="linenos">29</span><span class="w">    </span><span class="nt">rhsData</span><span class="p">:</span>
<span class="linenos">30</span><span class="w">      </span><span class="nt">useTrainingRuns</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">all</span>
<span class="linenos">31</span>
<span class="linenos">32</span><span class="nt">onlineRom</span><span class="p">:</span>
<span class="linenos">33</span><span class="w">  </span><span class="nt">algorithm</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">defaultGalerkin</span>
<span class="linenos">34</span><span class="w">  </span><span class="nt">podTruncation</span><span class="p">:</span>
<span class="linenos">35</span><span class="w">    </span><span class="nt">energyBased</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">99.999</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">99.99999</span><span class="p p-Indicator">]</span>
</pre></div>
</div>
</section>
<section id="step-1-execute-foms">
<h2>Step 1: execute FOMs<a class="headerlink" href="#step-1-execute-foms" title="Permalink to this heading">#</a></h2>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># from within $BUILDDIR/end-to-end-roms/2d_swe_galerkin_default</span>
python3<span class="w"> </span><span class="nv">$REPOSRC</span>/wf_foms.py<span class="w"> </span>--wf<span class="w"> </span>wf.yaml
</pre></div>
</div>
<p>This driver script automates this first stage by creating input files,
generating run directories and running the C++ executable
to generate all the FOM train and test data at the points specified
in the yaml file.</p>
<p>At the end, doing <code class="docutils literal notranslate"><span class="pre">tree</span> <span class="pre">-L</span> <span class="pre">1</span> <span class="pre">.</span></code> should produce:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>.
├──<span class="w"> </span>CMakeFiles
├──<span class="w"> </span>Makefile
├──<span class="w"> </span>cmake_install.cmake
├──<span class="w"> </span>fom_mesh
├──<span class="w"> </span>fom_test_runid_0
├──<span class="w"> </span>fom_train_runid_0
├──<span class="w"> </span>fom_train_runid_1
├──<span class="w"> </span>plot.py
└──<span class="w"> </span>wf.yaml
</pre></div>
</div>
<p>Where we see the run train and test directories and their corresponding IDs.</p>
</section>
<section id="step-2-offline-rom">
<h2>Step 2: offline rom<a class="headerlink" href="#step-2-offline-rom" title="Permalink to this heading">#</a></h2>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># from within $BUILDDIR/end-to-end-roms/2d_swe_galerkin_default</span>
python3<span class="w"> </span><span class="nv">$REPOSRC</span>/wf_offline_rom.py<span class="w"> </span>--wf<span class="w"> </span>wf.yaml
</pre></div>
</div>
<p>The offline rom takes care of using the FOM training data to compute
the POD modes, and creates all data into an “offline_rom” subdirectory.
Specifically, in this case the demo specifies that <em>all</em> the training
runs should be used to compute POD modes.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>./offline_rom/
├──<span class="w"> </span>pod_input.yaml
├──<span class="w"> </span>rhs_left_singular_vectors.bin
├──<span class="w"> </span>rhs_singular_values.txt
├──<span class="w"> </span>rhs_snapshots.bin
├──<span class="w"> </span>state_left_singular_vectors.bin
├──<span class="w"> </span>state_singular_values.txt
└──<span class="w"> </span>state_snapshots.bin
</pre></div>
</div>
</section>
<section id="step-3-galerkin-rom">
<h2>Step 3: galerkin rom<a class="headerlink" href="#step-3-galerkin-rom" title="Permalink to this heading">#</a></h2>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># from within $BUILDDIR/end-to-end-roms/2d_swe_galerkin_default</span>
python3<span class="w"> </span><span class="nv">$REPOSRC</span>/wf_galerkin.py<span class="w"> </span>--wf<span class="w"> </span>wf.yaml
</pre></div>
</div>
<p>This driver script automates all the Galerkin runs.
Specifically, it creates all the run directories, writes all input files,
prepares initial conditions and runs the actual Galerkin run at every test point.</p>
<p>More specifically, what happens here is the following:</p>
<ul class="simple">
<li><p>the total number of modes used varies and is computed by truncating
the basis using the energy values specified in the workflow file
at the top: the higher the target energy, the more modes it uses
(the code doing this computes the energy of the singular
values of the POD modes and truncate based on the target energy,
and again this is done automatically by our driver script)</p></li>
<li><p>the reduced initial condition is read from file but here simply
corresponds to the projection of the FOM initial condition onto the basis</p></li>
<li><p>note that we also monitor the evolution of the reduced state and
store its history into file (this will be used for the postprocessing)</p></li>
</ul>
<p>At the end, you should have the following directory structure:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>.
├──<span class="w"> </span>CMakeFiles
├──<span class="w"> </span>Makefile
├──<span class="w"> </span>cmake_install.cmake
├──<span class="w"> </span>default_galerkin_truncation_energybased_99.99999_runid_0
├──<span class="w"> </span>default_galerkin_truncation_energybased_99.999_runid_0
├──<span class="w"> </span>fom_mesh
├──<span class="w"> </span>fom_test_runid_0
├──<span class="w"> </span>fom_train_runid_0
├──<span class="w"> </span>fom_train_runid_1
├──<span class="w"> </span>offline_rom
├──<span class="w"> </span>plot.py
└──<span class="w"> </span>wf.yaml
</pre></div>
</div>
</section>
<section id="step-4-process-results">
<h2>Step 4: process results<a class="headerlink" href="#step-4-process-results" title="Permalink to this heading">#</a></h2>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># from within $BUILDDIR/end-to-end-roms/2d_swe_galerkin_default</span>
python3<span class="w"> </span><span class="nv">$REPOSRC</span>/wf_reconstruct_on_full_mesh.py
python3<span class="w"> </span>plot.py
</pre></div>
</div>
<a class="reference internal image-reference" href="../_images/FOM.png"><img alt="FOM" src="../_images/FOM.png" style="width: 32%;" /></a>
<a class="reference internal image-reference" href="../_images/ROM_22.png"><img alt="ROM, 22 modes" src="../_images/ROM_22.png" style="width: 32%;" /></a>
<a class="reference internal image-reference" href="../_images/ROM_55.png"><img alt="ROM, 55 modes" src="../_images/ROM_55.png" style="width: 32%;" /></a>
</section>
<section id="step-5-things-you-can-try">
<h2>Step 5: things you can try<a class="headerlink" href="#step-5-things-you-can-try" title="Permalink to this heading">#</a></h2>
<p>This section suggests a few things you can experiment with.
Note: before you run a new experiment in the same directory, to avoid conflicts
you need to cleanup all the existing content, which can you easily do as follows:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># from within $BUILDDIR/end-to-end-roms/2d_swe_galerkin_default</span>
python3<span class="w"> </span>clean.py
</pre></div>
</div>
<ul>
<li><p>a different simulation time for the train and test runs
so that you can assess how the ROM performs in a time extrapolation regime.
This can easily be done by just replacing:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">fom</span><span class="p">:</span>
<span class="w">  </span><span class="c1"># ...</span>
<span class="w">  </span><span class="nt">train</span><span class="p">:</span>
<span class="w">    </span><span class="nt">finalTime</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">5.0</span>
<span class="w">  </span><span class="c1"># ...</span>
<span class="w">  </span><span class="nt">test</span><span class="p">:</span>
<span class="w">    </span><span class="nt">finalTime</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">6.0</span>
</pre></div>
</div>
</li>
<li><p>add new test points to the <code class="docutils literal notranslate"><span class="pre">parameterSpace</span></code> section of the workflow
file to as follows:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">parameterSpace</span><span class="p">:</span>
<span class="w">  </span><span class="c1"># ...</span>
<span class="w">  </span><span class="nt">testPoints</span><span class="p">:</span>
<span class="w">    </span><span class="nt">0</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">-0.5</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">0.125</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">9.8</span><span class="p p-Indicator">]</span>
<span class="w">    </span><span class="nt">1</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">-0.9</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">0.125</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">9.8</span><span class="p p-Indicator">]</span>
<span class="w">    </span><span class="nt">2</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="w"> </span><span class="nv">0.1</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">0.125</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">9.8</span><span class="p p-Indicator">]</span><span class="w"> </span><span class="c1"># this test point is outside of training range</span>
</pre></div>
</div>
</li>
</ul>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="swe_galerkin_hypred_1.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">2D SWE: hyper-reduced Galerkin (example 1)</div>
              </div>
              <svg><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="readthisfirst.html">
              <svg><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Start reading here</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2021, National Technology &amp; Engineering Solutions of Sandia, LLC (NTESS)
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            <div class="last-updated">
              Last updated on Sep 10, 2025</div>
          </div>
          <div class="right-details">
            <div class="icons">
              
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            Contents
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">2D SWE: default Galerkin</a><ul>
<li><a class="reference internal" href="#prerequisites">Prerequisites</a></li>
<li><a class="reference internal" href="#workflow-file">Workflow File</a></li>
<li><a class="reference internal" href="#step-1-execute-foms">Step 1: execute FOMs</a></li>
<li><a class="reference internal" href="#step-2-offline-rom">Step 2: offline rom</a></li>
<li><a class="reference internal" href="#step-3-galerkin-rom">Step 3: galerkin rom</a></li>
<li><a class="reference internal" href="#step-4-process-results">Step 4: process results</a></li>
<li><a class="reference internal" href="#step-5-things-you-can-try">Step 5: things you can try</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/scripts/furo.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    </body>
</html>