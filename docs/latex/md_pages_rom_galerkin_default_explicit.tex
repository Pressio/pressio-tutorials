

\begin{DoxyParagraph}{}
This tutorial demonstrates...
\end{DoxyParagraph}

\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{preprocessor}{\#include "{}pressio/type\_traits.hpp"{}}}
\DoxyCodeLine{\textcolor{preprocessor}{\#include "{}pressio/ops.hpp"{}}}
\DoxyCodeLine{\textcolor{preprocessor}{\#include "{}pressio/rom\_galerkin.hpp"{}}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keyword}{struct }TrivialFomOnlyVelocityEigen}
\DoxyCodeLine{\{}
\DoxyCodeLine{  \textcolor{keyword}{using} scalar\_type       = double;}
\DoxyCodeLine{  \textcolor{keyword}{using} state\_type        = Eigen::VectorXd;}
\DoxyCodeLine{  \textcolor{keyword}{using} velocity\_type     = state\_type;}
\DoxyCodeLine{  \textcolor{keywordtype}{int} N\_ = \{\};}
\DoxyCodeLine{}
\DoxyCodeLine{  TrivialFomOnlyVelocityEigen(\textcolor{keywordtype}{int} N): N\_(N)\{\}}
\DoxyCodeLine{}
\DoxyCodeLine{  velocity\_type createVelocity()\textcolor{keyword}{ const}\{ \textcolor{keywordflow}{return} velocity\_type(N\_); \}}
\DoxyCodeLine{}
\DoxyCodeLine{  \textcolor{keywordtype}{void} velocity(\textcolor{keyword}{const} state\_type \& u, \textcolor{keyword}{const} scalar\_type time, velocity\_type \& f)\textcolor{keyword}{ const}}
\DoxyCodeLine{\textcolor{keyword}{  }\{}
\DoxyCodeLine{    \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} i=0; i<f.rows(); ++i)\{}
\DoxyCodeLine{       f(i) = u(i) + time;}
\DoxyCodeLine{    \}}
\DoxyCodeLine{  \}}
\DoxyCodeLine{\};}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keyword}{struct }Observer}
\DoxyCodeLine{\{}
\DoxyCodeLine{  \textcolor{keywordtype}{void} operator()(int32\_t step, \textcolor{keywordtype}{double} time, Eigen::VectorXd state)}
\DoxyCodeLine{  \{}
\DoxyCodeLine{    std::cout << \textcolor{stringliteral}{"{}Observer called: \(\backslash\)n"{}}}
\DoxyCodeLine{    << \textcolor{stringliteral}{"{} step: "{}} << step}
\DoxyCodeLine{    << \textcolor{stringliteral}{"{}\(\backslash\)n"{}}}
\DoxyCodeLine{    << \textcolor{stringliteral}{"{} state = "{}};}
\DoxyCodeLine{    \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i=0; i<state.size(); ++i)\{}
\DoxyCodeLine{        std::cout << state(i) << \textcolor{stringliteral}{"{}, "{}};}
\DoxyCodeLine{    \}}
\DoxyCodeLine{    std::cout << \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{  \}}
\DoxyCodeLine{\};}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keywordtype}{int} main(\textcolor{keywordtype}{int} argc, \textcolor{keywordtype}{char} *argv[])}
\DoxyCodeLine{\{}
\DoxyCodeLine{  pressio::log::initialize(pressio::logto::terminal);}
\DoxyCodeLine{}
\DoxyCodeLine{  \textcolor{keyword}{using} fom\_t   = TrivialFomOnlyVelocityEigen;}
\DoxyCodeLine{  \textcolor{keyword}{using} scalar\_t    = \textcolor{keyword}{typename} fom\_t::scalar\_type;}
\DoxyCodeLine{  \textcolor{keyword}{using} fom\_state\_t = \textcolor{keyword}{typename} fom\_t::state\_type;}
\DoxyCodeLine{}
\DoxyCodeLine{  constexpr \textcolor{keywordtype}{int} N = 10;}
\DoxyCodeLine{  fom\_t fomSystem(N);}
\DoxyCodeLine{  fom\_state\_t fomReferenceState(N);}
\DoxyCodeLine{  fomReferenceState.setZero();}
\DoxyCodeLine{}
\DoxyCodeLine{  \textcolor{keyword}{using} phi\_t = Eigen::MatrixXd;}
\DoxyCodeLine{  phi\_t phi(N, 3);}
\DoxyCodeLine{  phi.col(0).setConstant(0.1);}
\DoxyCodeLine{  phi.col(1).setConstant(0.5);}
\DoxyCodeLine{  phi.col(2).setConstant(0.8);}
\DoxyCodeLine{  \textcolor{keyword}{auto} decoder = pressio::rom::create\_time\_invariant\_linear\_decoder<fom\_state\_t>(phi);}
\DoxyCodeLine{}
\DoxyCodeLine{  Eigen::VectorXd romState(3);}
\DoxyCodeLine{  romState[0]=0.;}
\DoxyCodeLine{  romState[1]=1.;}
\DoxyCodeLine{  romState[2]=2.;}
\DoxyCodeLine{}
\DoxyCodeLine{  \textcolor{keyword}{using} ode\_tag = pressio::ode::ForwardEuler;}
\DoxyCodeLine{  \textcolor{keyword}{auto} problem = pressio::rom::galerkin::create\_default\_problem<ode\_tag>}
\DoxyCodeLine{    (fomSystem, decoder, romState, fomReferenceState);}
\DoxyCodeLine{}
\DoxyCodeLine{  \textcolor{keyword}{const} scalar\_t dt = 1.;}
\DoxyCodeLine{  \textcolor{keyword}{const} \textcolor{keywordtype}{int} num\_steps = 3;}
\DoxyCodeLine{  Observer obs;}
\DoxyCodeLine{  pressio::ode::advance\_n\_steps\_and\_observe(}
\DoxyCodeLine{    problem.stepper(), romState, 0., dt, num\_steps, obs);}
\DoxyCodeLine{}
\DoxyCodeLine{  pressio::log::finalize();}
\DoxyCodeLine{\}}

\end{DoxyCode}
 